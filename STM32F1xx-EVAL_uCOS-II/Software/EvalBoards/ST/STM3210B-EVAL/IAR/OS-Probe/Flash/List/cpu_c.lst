###############################################################################
#
# IAR ANSI C/C++ Compiler V7.30.3.8024/W32 for ARM        27/Feb/2018  22:18:54
# Copyright 1999-2014 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  
#        F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\uC-CPU\ARM-Cortex-M3\IAR\cpu_c.c
#    Command line =  
#        "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\uC-CPU\ARM-Cortex-M3\IAR\cpu_c.c"
#        -lCN "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\Flash\List\"
#        -o "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\Flash\Obj\"
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M3 -e --fpu=None --dlib_config "C:\Program Files
#        (x86)\IAR Systems\Embedded Workbench
#        7.0\arm\INC\c\DLib_Config_Normal.h" -I "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\"
#        -I "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\..\BSP\"
#        -I "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\..\..\..\..\..\CPU\ST\STM32\inc\"
#        -I "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\..\..\..\..\..\uC-CPU\"
#        -I "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\..\..\..\..\..\uC-CPU\ARM-Cortex-M3\IAR\"
#        -I "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\..\..\..\..\..\uC-LCD\Source\"
#        -I "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\..\..\..\..\..\uC-LIB\"
#        -I "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\..\..\..\..\..\uCOS-II\Ports\ARM-Cortex-M3\Generic\IAR\"
#        -I "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\..\..\..\..\..\uCOS-II\Source\"
#        -I "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Source\"
#        -I "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\..\..\..\..\..\uC-Probe\Target\Communication\Generic\RS-232\Ports\ST\STM32\"
#        -I "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\..\..\..\..\..\uC-Probe\Target\Communication\Generic\Source\"
#        -I "F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\..\..\..\..\..\uC-Probe\Target\Plugins\uCOS-II\"
#        -Ol --use_c++_inline
#    List file    =  
#        F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\Flash\List\cpu_c.lst
#    Object file  =  
#        F:\Study\uCOS\UCOS
#        II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\EvalBoards\ST\STM3210B-EVAL\IAR\OS-Probe\Flash\Obj\cpu_c.o
#
###############################################################################

F:\Study\uCOS\UCOS II\Micrium_STM32F1xx-EVAL_uCOS-II\Micrium\Software\uC-CPU\ARM-Cortex-M3\IAR\cpu_c.c
      1          /*
      2          *********************************************************************************************************
      3          *                                               uC/CPU
      4          *                                    CPU CONFIGURATION & PORT LAYER
      5          *
      6          *                          (c) Copyright 2004-2008; Micrium, Inc.; Weston, FL
      7          *
      8          *               All rights reserved.  Protected by international copyright laws.
      9          *
     10          *               uC/CPU is provided in source form for FREE evaluation, for educational
     11          *               use or peaceful research.  If you plan on using uC/CPU in a commercial
     12          *               product you need to contact Micrium to properly license its use in your
     13          *               product.  We provide ALL the source code for your convenience and to
     14          *               help you experience uC/CPU.  The fact that the source code is provided
     15          *               does NOT mean that you can use it without paying a licensing fee.
     16          *
     17          *               Knowledge of the source code may NOT be used to develop a similar product.
     18          *
     19          *               Please help us continue to provide the Embedded community with the finest
     20          *               software available.  Your honesty is greatly appreciated.
     21          *********************************************************************************************************
     22          */
     23          
     24          /*
     25          *********************************************************************************************************
     26          *
     27          *                                            CPU PORT FILE
     28          *
     29          *                                            ARM-Cortex-M3
     30          *                                            IAR C Compiler
     31          *
     32          * Filename      : cpu_c.c
     33          * Version       : V1.19
     34          * Programmer(s) : JJL
     35          *                 BAN
     36          *********************************************************************************************************
     37          */
     38          
     39          /*
     40          *********************************************************************************************************
     41          *                                              INCLUDE FILES
     42          *********************************************************************************************************
     43          */
     44          
     45          #include  <cpu.h>
     46          #include  <lib_def.h>
     47          
     48          
     49          /*
     50          *********************************************************************************************************
     51          *                                              LOCAL DEFINES
     52          *********************************************************************************************************
     53          */
     54          
     55          #define  CPU_INT_SRC_POS_MAX      ((((CPU_REG_NVIC_NVIC + 1) & 0x1F) * 32) + 1)
     56          
     57          #define  CPU_BIT_BAND_SRAM_REG_LO       0x20000000
     58          #define  CPU_BIT_BAND_SRAM_REG_HI       0x200FFFFF
     59          #define  CPU_BIT_BAND_SRAM_BASE         0x22000000
     60          
     61          
     62          #define  CPU_BIT_BAND_PERIPH_REG_LO     0x40000000
     63          #define  CPU_BIT_BAND_PERIPH_REG_HI     0x400FFFFF
     64          #define  CPU_BIT_BAND_PERIPH_BASE       0x42000000
     65          
     66          
     67          /*
     68          *********************************************************************************************************
     69          *                                             LOCAL CONSTANTS
     70          *********************************************************************************************************
     71          */
     72          
     73          
     74          /*
     75          *********************************************************************************************************
     76          *                                            LOCAL DATA TYPES
     77          *********************************************************************************************************
     78          */
     79          
     80          
     81          /*
     82          *********************************************************************************************************
     83          *                                              LOCAL TABLES
     84          *********************************************************************************************************
     85          */
     86          
     87          
     88          /*
     89          *********************************************************************************************************
     90          *                                         LOCAL GLOBAL VARIABLES
     91          *********************************************************************************************************
     92          */
     93          
     94          
     95          /*
     96          *********************************************************************************************************
     97          *                                        LOCAL FUNCTION PROTOTYPES
     98          *********************************************************************************************************
     99          */
    100          
    101          
    102          /*
    103          *********************************************************************************************************
    104          *                                       LOCAL CONFIGURATION ERRORS
    105          *********************************************************************************************************
    106          */
    107          
    108          /*
    109          *********************************************************************************************************
    110          *                                           CPU_BitBandClr()
    111          *
    112          * Description : Clear bit in bit-band region.
    113          *
    114          * Argument(s) : addr            Byte address in memory space.
    115          *
    116          *               bit_nbr         Bit number in byte.
    117          *
    118          * Return(s)   : none.
    119          *
    120          * Caller(s)   : Application.
    121          *
    122          * Note(s)     : none.
    123          *********************************************************************************************************
    124          */
    125          

   \                                 In section .text, align 2, keep-with-next
    126          void  CPU_BitBandClr (CPU_ADDR    addr,
    127                                CPU_INT08U  bit_nbr)
    128          {
    129              CPU_ADDR  bit_word_off;
    130              CPU_ADDR  bit_word_addr;
    131          
    132          
    133              if ((addr >= CPU_BIT_BAND_SRAM_REG_LO) &&
    134                  (addr <= CPU_BIT_BAND_SRAM_REG_HI)) {
   \                     CPU_BitBandClr: (+1)
   \   00000000   0xF1B0 0x5200      SUBS     R2,R0,#+536870912
   \   00000004   0xF5B2 0x1F80      CMP      R2,#+1048576
   \   00000008   0xD20A             BCS.N    ??CPU_BitBandClr_0
    135                  bit_word_off  = ((addr - CPU_BIT_BAND_SRAM_REG_LO) * 32) + (bit_nbr * 4);
   \   0000000A   0xF1B0 0x5000      SUBS     R0,R0,#+536870912
   \   0000000E   0xB2C9             UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
   \   00000010   0x0089             LSLS     R1,R1,#+2
   \   00000012   0xEB11 0x1040      ADDS     R0,R1,R0, LSL #+5
    136                  bit_word_addr = CPU_BIT_BAND_SRAM_BASE + bit_word_off;
   \   00000016   0xF110 0x5008      ADDS     R0,R0,#+570425344
    137          
    138                 *(volatile CPU_INT32U *)(bit_word_addr) = 0;
   \   0000001A   0x2100             MOVS     R1,#+0
   \   0000001C   0x6001             STR      R1,[R0, #+0]
   \   0000001E   0xE00E             B.N      ??CPU_BitBandClr_1
    139          
    140              } else if ((addr >= CPU_BIT_BAND_PERIPH_REG_LO) &&
    141                         (addr <= CPU_BIT_BAND_PERIPH_REG_HI)) {
   \                     ??CPU_BitBandClr_0: (+1)
   \   00000020   0xF1B0 0x4280      SUBS     R2,R0,#+1073741824
   \   00000024   0xF5B2 0x1F80      CMP      R2,#+1048576
   \   00000028   0xD209             BCS.N    ??CPU_BitBandClr_1
    142                  bit_word_off  = ((addr - CPU_BIT_BAND_PERIPH_REG_LO) * 32) + (bit_nbr * 4);
   \   0000002A   0xF1B0 0x4080      SUBS     R0,R0,#+1073741824
   \   0000002E   0xB2C9             UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
   \   00000030   0x0089             LSLS     R1,R1,#+2
   \   00000032   0xEB11 0x1040      ADDS     R0,R1,R0, LSL #+5
    143                  bit_word_addr = CPU_BIT_BAND_PERIPH_BASE + bit_word_off;
   \   00000036   0xF110 0x4084      ADDS     R0,R0,#+1107296256
    144          
    145                 *(volatile CPU_INT32U *)(bit_word_addr) = 0;
   \   0000003A   0x2100             MOVS     R1,#+0
   \   0000003C   0x6001             STR      R1,[R0, #+0]
    146              }
    147          }
   \                     ??CPU_BitBandClr_1: (+1)
   \   0000003E   0x4770             BX       LR               ;; return
    148          
    149          
    150          /*
    151          *********************************************************************************************************
    152          *                                           CPU_BitBandClr()
    153          *
    154          * Description : Set bit in bit-band region.
    155          *
    156          * Argument(s) : addr            Byte address in memory space.
    157          *
    158          *               bit_nbr         Bit number in byte.
    159          *
    160          * Return(s)   : none.
    161          *
    162          * Caller(s)   : Application.
    163          *
    164          * Note(s)     : none.
    165          *********************************************************************************************************
    166          */
    167          

   \                                 In section .text, align 2, keep-with-next
    168          void  CPU_BitBandSet (CPU_ADDR    addr,
    169                                CPU_INT08U  bit_nbr)
    170          {
    171              CPU_ADDR  bit_word_off;
    172              CPU_ADDR  bit_word_addr;
    173          
    174          
    175              if ((addr >= CPU_BIT_BAND_SRAM_REG_LO) &&
    176                  (addr <= CPU_BIT_BAND_SRAM_REG_HI)) {
   \                     CPU_BitBandSet: (+1)
   \   00000000   0xF1B0 0x5200      SUBS     R2,R0,#+536870912
   \   00000004   0xF5B2 0x1F80      CMP      R2,#+1048576
   \   00000008   0xD20A             BCS.N    ??CPU_BitBandSet_0
    177                  bit_word_off  = ((addr - CPU_BIT_BAND_SRAM_REG_LO) * 32) + (bit_nbr * 4);
   \   0000000A   0xF1B0 0x5000      SUBS     R0,R0,#+536870912
   \   0000000E   0xB2C9             UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
   \   00000010   0x0089             LSLS     R1,R1,#+2
   \   00000012   0xEB11 0x1040      ADDS     R0,R1,R0, LSL #+5
    178                  bit_word_addr = CPU_BIT_BAND_SRAM_BASE + bit_word_off;
   \   00000016   0xF110 0x5008      ADDS     R0,R0,#+570425344
    179          
    180                 *(volatile CPU_INT32U *)(bit_word_addr) = 1;
   \   0000001A   0x2101             MOVS     R1,#+1
   \   0000001C   0x6001             STR      R1,[R0, #+0]
   \   0000001E   0xE00E             B.N      ??CPU_BitBandSet_1
    181          
    182              } else if ((addr >= CPU_BIT_BAND_PERIPH_REG_LO) &&
    183                         (addr <= CPU_BIT_BAND_PERIPH_REG_HI)) {
   \                     ??CPU_BitBandSet_0: (+1)
   \   00000020   0xF1B0 0x4280      SUBS     R2,R0,#+1073741824
   \   00000024   0xF5B2 0x1F80      CMP      R2,#+1048576
   \   00000028   0xD209             BCS.N    ??CPU_BitBandSet_1
    184                  bit_word_off  = ((addr - CPU_BIT_BAND_PERIPH_REG_LO) * 32) + (bit_nbr * 4);
   \   0000002A   0xF1B0 0x4080      SUBS     R0,R0,#+1073741824
   \   0000002E   0xB2C9             UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
   \   00000030   0x0089             LSLS     R1,R1,#+2
   \   00000032   0xEB11 0x1040      ADDS     R0,R1,R0, LSL #+5
    185                  bit_word_addr = CPU_BIT_BAND_PERIPH_BASE + bit_word_off;
   \   00000036   0xF110 0x4084      ADDS     R0,R0,#+1107296256
    186          
    187                 *(volatile CPU_INT32U *)(bit_word_addr) = 1;
   \   0000003A   0x2101             MOVS     R1,#+1
   \   0000003C   0x6001             STR      R1,[R0, #+0]
    188              }
    189          }
   \                     ??CPU_BitBandSet_1: (+1)
   \   0000003E   0x4770             BX       LR               ;; return
    190          
    191          
    192          /*
    193          *********************************************************************************************************
    194          *                                           CPU_IntSrcDis()
    195          *
    196          * Description : Disable an interrupt source.
    197          *
    198          * Argument(s) : pos     Position of interrupt vector in interrupt table :
    199          *
    200          *                           0       Invalid (see Note #1a).
    201          *                           1       Invalid (see Note #1b).
    202          *                           2       Non-maskable interrupt.
    203          *                           3       Hard Fault.
    204          *                           4       Memory Management.
    205          *                           5       Bus Fault.
    206          *                           6       Usage Fault.
    207          *                           7-10    Reserved.
    208          *                           11      SVCall
    209          *                           12      Debug monitor.
    210          *                           13      Reserved
    211          *                           14      PendSV.
    212          *                           15      SysTick.
    213          *                           16+     External Interrupt.
    214          *
    215          * Return(s)   : none.
    216          *
    217          * Caller(s)   : Application.
    218          *
    219          * Note(s)     : (1) Several table positions do not contain interrupt sources :
    220          *
    221          *                   (a) Position 0 contains the stack pointer.
    222          *                   (b) Positions 7-10, 13 are reserved.
    223          *
    224          *               (2) Several interrupts cannot be disabled/enabled :
    225          *
    226          *                   (a) Reset.
    227          *                   (b) NMI.
    228          *                   (c) Hard fault.
    229          *                   (d) SVCall.
    230          *                   (e) Debug monitor.
    231          *                   (f) PendSV.
    232          *
    233          *               (3) The maximum Cortex-M3 table position is 256.  A particular Cortex-M3 may have fewer
    234          *                   than 240 external exceptions and, consequently, fewer than 256 table positions.
    235          *                   This function assumes that the specified table position is valid if the interrupt
    236          *                   controller type register's INTLINESNUM field is large enough so that the position
    237          *                   COULD be valid.
    238          *********************************************************************************************************
    239          */
    240          

   \                                 In section .text, align 2, keep-with-next
    241          void  CPU_IntSrcDis (CPU_INT08U  pos)
    242          {
   \                     CPU_IntSrcDis: (+1)
   \   00000000   0xB538             PUSH     {R3-R5,LR}
    243          #if (CPU_CFG_CRITICAL_METHOD == CPU_CRITICAL_METHOD_STATUS_LOCAL)
    244              CPU_SR      cpu_sr;
    245          #endif
    246              CPU_INT08U  group;
    247              CPU_INT08U  pos_max;
    248              CPU_INT08U  nbr;
    249          
    250          
    251              switch (pos) {
   \   00000002   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000004   0x2800             CMP      R0,#+0
   \   00000006   0xD017             BEQ.N    ??CPU_IntSrcDis_0
   \   00000008   0x2802             CMP      R0,#+2
   \   0000000A   0xD016             BEQ.N    ??CPU_IntSrcDis_1
   \   0000000C   0xD315             BCC.N    ??CPU_IntSrcDis_1
   \   0000000E   0x2804             CMP      R0,#+4
   \   00000010   0xD014             BEQ.N    ??CPU_IntSrcDis_2
   \   00000012   0xD312             BCC.N    ??CPU_IntSrcDis_1
   \   00000014   0x2806             CMP      R0,#+6
   \   00000016   0xD02B             BEQ.N    ??CPU_IntSrcDis_3
   \   00000018   0xD31D             BCC.N    ??CPU_IntSrcDis_4
   \   0000001A   0x2808             CMP      R0,#+8
   \   0000001C   0xD00C             BEQ.N    ??CPU_IntSrcDis_0
   \   0000001E   0xD30B             BCC.N    ??CPU_IntSrcDis_0
   \   00000020   0x280A             CMP      R0,#+10
   \   00000022   0xD009             BEQ.N    ??CPU_IntSrcDis_0
   \   00000024   0xD308             BCC.N    ??CPU_IntSrcDis_0
   \   00000026   0x280C             CMP      R0,#+12
   \   00000028   0xD007             BEQ.N    ??CPU_IntSrcDis_1
   \   0000002A   0xD306             BCC.N    ??CPU_IntSrcDis_1
   \   0000002C   0x280E             CMP      R0,#+14
   \   0000002E   0xD004             BEQ.N    ??CPU_IntSrcDis_1
   \   00000030   0xD302             BCC.N    ??CPU_IntSrcDis_0
   \   00000032   0x280F             CMP      R0,#+15
   \   00000034   0xD029             BEQ.N    ??CPU_IntSrcDis_5
   \   00000036   0xE035             B.N      ??CPU_IntSrcDis_6
    252                  case CPU_INT_STK_PTR:                                   /* ---------------- INVALID OR RESERVED --------------- */
    253                  case CPU_INT_RSVD_07:
    254                  case CPU_INT_RSVD_08:
    255                  case CPU_INT_RSVD_09:
    256                  case CPU_INT_RSVD_10:
    257                  case CPU_INT_RSVD_13:
    258                       break;
   \                     ??CPU_IntSrcDis_0: (+1)
   \   00000038   0xE058             B.N      ??CPU_IntSrcDis_7
    259          
    260          
    261                                                                          /* ----------------- SYSTEM EXCEPTIONS ---------------- */
    262                  case CPU_INT_RESET:                                     /* Reset (see Note #2).                                 */
    263                  case CPU_INT_NMI:                                       /* Non-maskable interrupt (see Note #2).                */
    264                  case CPU_INT_HFAULT:                                    /* Hard fault (see Note #2).                            */
    265                  case CPU_INT_SVCALL:                                    /* SVCall (see Note #2).                                */
    266                  case CPU_INT_DBGMON:                                    /* Debug monitor (see Note #2).                         */
    267                  case CPU_INT_PENDSV:                                    /* PendSV (see Note #2).                                */
    268                       break;
   \                     ??CPU_IntSrcDis_1: (+1)
   \   0000003A   0xE057             B.N      ??CPU_IntSrcDis_7
    269          
    270                  case CPU_INT_MEM:                                       /* Memory management.                                   */
    271                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcDis_2: (+1)
   \   0000003C   0x.... 0x....      BL       CPU_SR_Save
    272                       CPU_REG_NVIC_SHCSR &= ~CPU_REG_NVIC_SHCSR_MEMFAULTENA;
   \   00000040   0x.... 0x....      LDR.W    R1,??DataTable3  ;; 0xe000ed24
   \   00000044   0x6809             LDR      R1,[R1, #+0]
   \   00000046   0xF431 0x3180      BICS     R1,R1,#0x10000
   \   0000004A   0x.... 0x....      LDR.W    R2,??DataTable3  ;; 0xe000ed24
   \   0000004E   0x6011             STR      R1,[R2, #+0]
    273                       CPU_CRITICAL_EXIT();
   \   00000050   0x.... 0x....      BL       CPU_SR_Restore
    274                       break;
   \   00000054   0xE04A             B.N      ??CPU_IntSrcDis_7
    275          
    276                  case CPU_INT_BUSFAULT:                                  /* Bus fault.                                           */
    277                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcDis_4: (+1)
   \   00000056   0x.... 0x....      BL       CPU_SR_Save
    278                       CPU_REG_NVIC_SHCSR &= ~CPU_REG_NVIC_SHCSR_BUSFAULTENA;
   \   0000005A   0x.... 0x....      LDR.W    R1,??DataTable3  ;; 0xe000ed24
   \   0000005E   0x6809             LDR      R1,[R1, #+0]
   \   00000060   0xF431 0x3100      BICS     R1,R1,#0x20000
   \   00000064   0x.... 0x....      LDR.W    R2,??DataTable3  ;; 0xe000ed24
   \   00000068   0x6011             STR      R1,[R2, #+0]
    279                       CPU_CRITICAL_EXIT();
   \   0000006A   0x.... 0x....      BL       CPU_SR_Restore
    280                       break;
   \   0000006E   0xE03D             B.N      ??CPU_IntSrcDis_7
    281          
    282                  case CPU_INT_USAGEFAULT:                                /* Usage fault.                                         */
    283                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcDis_3: (+1)
   \   00000070   0x.... 0x....      BL       CPU_SR_Save
    284                       CPU_REG_NVIC_SHCSR &= ~CPU_REG_NVIC_SHCSR_USGFAULTENA;
   \   00000074   0x.... 0x....      LDR.W    R1,??DataTable3  ;; 0xe000ed24
   \   00000078   0x6809             LDR      R1,[R1, #+0]
   \   0000007A   0xF431 0x2180      BICS     R1,R1,#0x40000
   \   0000007E   0x.... 0x....      LDR.W    R2,??DataTable3  ;; 0xe000ed24
   \   00000082   0x6011             STR      R1,[R2, #+0]
    285                       CPU_CRITICAL_EXIT();
   \   00000084   0x.... 0x....      BL       CPU_SR_Restore
    286                       break;
   \   00000088   0xE030             B.N      ??CPU_IntSrcDis_7
    287          
    288                  case CPU_INT_SYSTICK:                                   /* SysTick.                                             */
    289                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcDis_5: (+1)
   \   0000008A   0x.... 0x....      BL       CPU_SR_Save
    290                       CPU_REG_NVIC_ST_CTRL &= ~CPU_REG_NVIC_ST_CTRL_ENABLE;
   \   0000008E   0x.... 0x....      LDR.W    R1,??DataTable3_1  ;; 0xe000e010
   \   00000092   0x6809             LDR      R1,[R1, #+0]
   \   00000094   0x0849             LSRS     R1,R1,#+1
   \   00000096   0x0049             LSLS     R1,R1,#+1
   \   00000098   0x.... 0x....      LDR.W    R2,??DataTable3_1  ;; 0xe000e010
   \   0000009C   0x6011             STR      R1,[R2, #+0]
    291                       CPU_CRITICAL_EXIT();
   \   0000009E   0x.... 0x....      BL       CPU_SR_Restore
    292                       break;
   \   000000A2   0xE023             B.N      ??CPU_IntSrcDis_7
    293          
    294          
    295                                                                          /* ---------------- EXTERNAL INTERRUPT ---------------- */
    296                  default:
    297                      pos_max = CPU_INT_SRC_POS_MAX;
   \                     ??CPU_IntSrcDis_6: (+1)
   \   000000A4   0x.... 0x....      LDR.W    R1,??DataTable3_2  ;; 0xe000e004
   \   000000A8   0x6809             LDR      R1,[R1, #+0]
   \   000000AA   0x1C49             ADDS     R1,R1,#+1
   \   000000AC   0xF011 0x011F      ANDS     R1,R1,#0x1F
   \   000000B0   0x0149             LSLS     R1,R1,#+5
   \   000000B2   0x1C49             ADDS     R1,R1,#+1
    298                      if (pos < pos_max) {                                /* See Note #3.                                         */
   \   000000B4   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   000000B6   0xB2C9             UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
   \   000000B8   0x4288             CMP      R0,R1
   \   000000BA   0xD217             BCS.N    ??CPU_IntSrcDis_8
    299                           group = (pos - 16) / 32;
   \   000000BC   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   000000BE   0xF1B0 0x0110      SUBS     R1,R0,#+16
   \   000000C2   0x2220             MOVS     R2,#+32
   \   000000C4   0xFB91 0xF4F2      SDIV     R4,R1,R2
    300                           nbr   = (pos - 16) % 32;
   \   000000C8   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   000000CA   0x3810             SUBS     R0,R0,#+16
   \   000000CC   0x2120             MOVS     R1,#+32
   \   000000CE   0xFB90 0xF5F1      SDIV     R5,R0,R1
   \   000000D2   0xFB05 0x0511      MLS      R5,R5,R1,R0
    301          
    302                           CPU_CRITICAL_ENTER();
   \   000000D6   0x.... 0x....      BL       CPU_SR_Save
    303                           CPU_REG_NVIC_CLREN(group) = DEF_BIT(nbr);
   \   000000DA   0x2101             MOVS     R1,#+1
   \   000000DC   0x40A9             LSLS     R1,R1,R5
   \   000000DE   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   000000E0   0x.... 0x....      LDR.W    R2,??DataTable3_3  ;; 0xe000e180
   \   000000E4   0xF842 0x1024      STR      R1,[R2, R4, LSL #+2]
    304                           CPU_CRITICAL_EXIT();
   \   000000E8   0x.... 0x....      BL       CPU_SR_Restore
    305                       }
    306                       break;
    307              }
    308          }
   \                     ??CPU_IntSrcDis_8: (+1)
   \                     ??CPU_IntSrcDis_7: (+1)
   \   000000EC   0xBD31             POP      {R0,R4,R5,PC}    ;; return
    309          
    310          
    311          /*
    312          *********************************************************************************************************
    313          *                                           CPU_IntSrcEn()
    314          *
    315          * Description : Enable an interrupt source.
    316          *
    317          * Argument(s) : pos     Position of interrupt vector in interrupt table (see 'CPU_IntSrcDis()').
    318          *
    319          * Return(s)   : none.
    320          *
    321          * Caller(s)   : Application.
    322          *
    323          * Note(s)     : (1) See 'CPU_IntSrcDis() Note #1'.
    324          *
    325          *               (2) See 'CPU_IntSrcDis() Note #2'.
    326          *
    327          *               (3) See 'CPU_IntSrcDis() Note #3'.
    328          *********************************************************************************************************
    329          */
    330          

   \                                 In section .text, align 2, keep-with-next
    331          void  CPU_IntSrcEn (CPU_INT08U  pos)
    332          {
   \                     CPU_IntSrcEn: (+1)
   \   00000000   0xB538             PUSH     {R3-R5,LR}
    333          #if (CPU_CFG_CRITICAL_METHOD == CPU_CRITICAL_METHOD_STATUS_LOCAL)
    334              CPU_SR      cpu_sr;
    335          #endif
    336              CPU_INT08U  group;
    337              CPU_INT08U  nbr;
    338              CPU_INT08U  pos_max;
    339          
    340          
    341              switch (pos) {
   \   00000002   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000004   0x2800             CMP      R0,#+0
   \   00000006   0xD017             BEQ.N    ??CPU_IntSrcEn_0
   \   00000008   0x2802             CMP      R0,#+2
   \   0000000A   0xD016             BEQ.N    ??CPU_IntSrcEn_1
   \   0000000C   0xD315             BCC.N    ??CPU_IntSrcEn_1
   \   0000000E   0x2804             CMP      R0,#+4
   \   00000010   0xD014             BEQ.N    ??CPU_IntSrcEn_2
   \   00000012   0xD312             BCC.N    ??CPU_IntSrcEn_1
   \   00000014   0x2806             CMP      R0,#+6
   \   00000016   0xD028             BEQ.N    ??CPU_IntSrcEn_3
   \   00000018   0xD31C             BCC.N    ??CPU_IntSrcEn_4
   \   0000001A   0x2808             CMP      R0,#+8
   \   0000001C   0xD00C             BEQ.N    ??CPU_IntSrcEn_0
   \   0000001E   0xD30B             BCC.N    ??CPU_IntSrcEn_0
   \   00000020   0x280A             CMP      R0,#+10
   \   00000022   0xD009             BEQ.N    ??CPU_IntSrcEn_0
   \   00000024   0xD308             BCC.N    ??CPU_IntSrcEn_0
   \   00000026   0x280C             CMP      R0,#+12
   \   00000028   0xD007             BEQ.N    ??CPU_IntSrcEn_1
   \   0000002A   0xD306             BCC.N    ??CPU_IntSrcEn_1
   \   0000002C   0x280E             CMP      R0,#+14
   \   0000002E   0xD004             BEQ.N    ??CPU_IntSrcEn_1
   \   00000030   0xD302             BCC.N    ??CPU_IntSrcEn_0
   \   00000032   0x280F             CMP      R0,#+15
   \   00000034   0xD024             BEQ.N    ??CPU_IntSrcEn_5
   \   00000036   0xE02E             B.N      ??CPU_IntSrcEn_6
    342                  case CPU_INT_STK_PTR:                                   /* ---------------- INVALID OR RESERVED --------------- */
    343                  case CPU_INT_RSVD_07:
    344                  case CPU_INT_RSVD_08:
    345                  case CPU_INT_RSVD_09:
    346                  case CPU_INT_RSVD_10:
    347                  case CPU_INT_RSVD_13:
    348                       break;
   \                     ??CPU_IntSrcEn_0: (+1)
   \   00000038   0xE04F             B.N      ??CPU_IntSrcEn_7
    349          
    350          
    351                                                                          /* ----------------- SYSTEM EXCEPTIONS ---------------- */
    352                  case CPU_INT_RESET:                                     /* Reset (see Note #2).                                 */
    353                  case CPU_INT_NMI:                                       /* Non-maskable interrupt (see Note #2).                */
    354                  case CPU_INT_HFAULT:                                    /* Hard fault (see Note #2).                            */
    355                  case CPU_INT_SVCALL:                                    /* SVCall (see Note #2).                                */
    356                  case CPU_INT_DBGMON:                                    /* Debug monitor (see Note #2).                         */
    357                  case CPU_INT_PENDSV:                                    /* PendSV (see Note #2).                                */
    358                       break;
   \                     ??CPU_IntSrcEn_1: (+1)
   \   0000003A   0xE04E             B.N      ??CPU_IntSrcEn_7
    359          
    360                  case CPU_INT_MEM:                                       /* Memory management.                                   */
    361                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcEn_2: (+1)
   \   0000003C   0x.... 0x....      BL       CPU_SR_Save
    362                       CPU_REG_NVIC_SHCSR |= CPU_REG_NVIC_SHCSR_MEMFAULTENA;
   \   00000040   0x.... 0x....      LDR.W    R1,??DataTable3  ;; 0xe000ed24
   \   00000044   0x6809             LDR      R1,[R1, #+0]
   \   00000046   0xF451 0x3180      ORRS     R1,R1,#0x10000
   \   0000004A   0x....             LDR.N    R2,??DataTable3  ;; 0xe000ed24
   \   0000004C   0x6011             STR      R1,[R2, #+0]
    363                       CPU_CRITICAL_EXIT();
   \   0000004E   0x.... 0x....      BL       CPU_SR_Restore
    364                       break;
   \   00000052   0xE042             B.N      ??CPU_IntSrcEn_7
    365          
    366                  case CPU_INT_BUSFAULT:                                  /* Bus fault.                                           */
    367                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcEn_4: (+1)
   \   00000054   0x.... 0x....      BL       CPU_SR_Save
    368                       CPU_REG_NVIC_SHCSR |= CPU_REG_NVIC_SHCSR_BUSFAULTENA;
   \   00000058   0x....             LDR.N    R1,??DataTable3  ;; 0xe000ed24
   \   0000005A   0x6809             LDR      R1,[R1, #+0]
   \   0000005C   0xF451 0x3100      ORRS     R1,R1,#0x20000
   \   00000060   0x....             LDR.N    R2,??DataTable3  ;; 0xe000ed24
   \   00000062   0x6011             STR      R1,[R2, #+0]
    369                       CPU_CRITICAL_EXIT();
   \   00000064   0x.... 0x....      BL       CPU_SR_Restore
    370                       break;
   \   00000068   0xE037             B.N      ??CPU_IntSrcEn_7
    371          
    372                  case CPU_INT_USAGEFAULT:                                /* Usage fault.                                         */
    373                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcEn_3: (+1)
   \   0000006A   0x.... 0x....      BL       CPU_SR_Save
    374                       CPU_REG_NVIC_SHCSR |= CPU_REG_NVIC_SHCSR_USGFAULTENA;
   \   0000006E   0x....             LDR.N    R1,??DataTable3  ;; 0xe000ed24
   \   00000070   0x6809             LDR      R1,[R1, #+0]
   \   00000072   0xF451 0x2180      ORRS     R1,R1,#0x40000
   \   00000076   0x....             LDR.N    R2,??DataTable3  ;; 0xe000ed24
   \   00000078   0x6011             STR      R1,[R2, #+0]
    375                       CPU_CRITICAL_EXIT();
   \   0000007A   0x.... 0x....      BL       CPU_SR_Restore
    376                       break;
   \   0000007E   0xE02C             B.N      ??CPU_IntSrcEn_7
    377          
    378                  case CPU_INT_SYSTICK:                                   /* SysTick.                                             */
    379                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcEn_5: (+1)
   \   00000080   0x.... 0x....      BL       CPU_SR_Save
    380                       CPU_REG_NVIC_ST_CTRL |= CPU_REG_NVIC_ST_CTRL_ENABLE;
   \   00000084   0x....             LDR.N    R1,??DataTable3_1  ;; 0xe000e010
   \   00000086   0x6809             LDR      R1,[R1, #+0]
   \   00000088   0xF051 0x0101      ORRS     R1,R1,#0x1
   \   0000008C   0x....             LDR.N    R2,??DataTable3_1  ;; 0xe000e010
   \   0000008E   0x6011             STR      R1,[R2, #+0]
    381                       CPU_CRITICAL_EXIT();
   \   00000090   0x.... 0x....      BL       CPU_SR_Restore
    382                       break;
   \   00000094   0xE021             B.N      ??CPU_IntSrcEn_7
    383          
    384          
    385                                                                          /* ---------------- EXTERNAL INTERRUPT ---------------- */
    386                  default:
    387                      pos_max = CPU_INT_SRC_POS_MAX;
   \                     ??CPU_IntSrcEn_6: (+1)
   \   00000096   0x....             LDR.N    R1,??DataTable3_2  ;; 0xe000e004
   \   00000098   0x6809             LDR      R1,[R1, #+0]
   \   0000009A   0x1C49             ADDS     R1,R1,#+1
   \   0000009C   0xF011 0x011F      ANDS     R1,R1,#0x1F
   \   000000A0   0x0149             LSLS     R1,R1,#+5
   \   000000A2   0x1C49             ADDS     R1,R1,#+1
    388                      if (pos < pos_max) {                                /* See Note #3.                                         */
   \   000000A4   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   000000A6   0xB2C9             UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
   \   000000A8   0x4288             CMP      R0,R1
   \   000000AA   0xD216             BCS.N    ??CPU_IntSrcEn_8
    389                           group = (pos - 16) / 32;
   \   000000AC   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   000000AE   0xF1B0 0x0110      SUBS     R1,R0,#+16
   \   000000B2   0x2220             MOVS     R2,#+32
   \   000000B4   0xFB91 0xF4F2      SDIV     R4,R1,R2
    390                           nbr   = (pos - 16) % 32;
   \   000000B8   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   000000BA   0x3810             SUBS     R0,R0,#+16
   \   000000BC   0x2120             MOVS     R1,#+32
   \   000000BE   0xFB90 0xF5F1      SDIV     R5,R0,R1
   \   000000C2   0xFB05 0x0511      MLS      R5,R5,R1,R0
    391          
    392                           CPU_CRITICAL_ENTER();
   \   000000C6   0x.... 0x....      BL       CPU_SR_Save
    393                           CPU_REG_NVIC_SETEN(group) = DEF_BIT(nbr);
   \   000000CA   0x2101             MOVS     R1,#+1
   \   000000CC   0x40A9             LSLS     R1,R1,R5
   \   000000CE   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   000000D0   0x....             LDR.N    R2,??DataTable3_4  ;; 0xe000e100
   \   000000D2   0xF842 0x1024      STR      R1,[R2, R4, LSL #+2]
    394                           CPU_CRITICAL_EXIT();
   \   000000D6   0x.... 0x....      BL       CPU_SR_Restore
    395                       }
    396                       break;
    397              }
    398          }
   \                     ??CPU_IntSrcEn_8: (+1)
   \                     ??CPU_IntSrcEn_7: (+1)
   \   000000DA   0xBD31             POP      {R0,R4,R5,PC}    ;; return
    399          
    400          
    401          /*
    402          *********************************************************************************************************
    403          *                                           CPU_IntSrcPrioSet()
    404          *
    405          * Description : Set priority of an interrupt source.
    406          *
    407          * Argument(s) : pos     Position of interrupt vector in interrupt table (see 'CPU_IntSrcDis()').
    408          *
    409          *               prio    Priority.  Use a lower priority number for a higher priority.
    410          *
    411          * Return(s)   : none.
    412          *
    413          * Caller(s)   : Application.
    414          *
    415          * Note(s)     : (1) See 'CPU_IntSrcDis() Note #1'.
    416          *
    417          *               (2) Several interrupts priorities CANNOT be set :
    418          *
    419          *                   (a) Reset (always -3).
    420          *                   (b) NMI (always -2).
    421          *                   (c) Hard fault (always -1).
    422          *
    423          *               (3) See 'CPU_IntSrcDis() Note #3'.
    424          *********************************************************************************************************
    425          */
    426          

   \                                 In section .text, align 2, keep-with-next
    427          void  CPU_IntSrcPrioSet (CPU_INT08U  pos,
    428                                   CPU_INT08U  prio)
    429          {
   \                     CPU_IntSrcPrioSet: (+1)
   \   00000000   0xB570             PUSH     {R4-R6,LR}
   \   00000002   0x0005             MOVS     R5,R0
   \   00000004   0x000C             MOVS     R4,R1
    430          #if (CPU_CFG_CRITICAL_METHOD == CPU_CRITICAL_METHOD_STATUS_LOCAL)
    431              CPU_SR      cpu_sr;
    432          #endif
    433              CPU_INT08U  group;
    434              CPU_INT08U  nbr;
    435              CPU_INT08U  pos_max;
    436              CPU_INT32U  prio_32;
    437              CPU_INT32U  temp;
    438          
    439          
    440              prio_32 = CPU_RevBits((CPU_INT08U)prio);
   \   00000006   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   00000008   0x0020             MOVS     R0,R4
   \   0000000A   0x.... 0x....      BL       CPU_RevBits
    441              prio    = (CPU_INT08U)(prio_32 >> (3 * DEF_OCTET_NBR_BITS));
   \   0000000E   0x0E04             LSRS     R4,R0,#+24
    442          
    443              switch (pos) {
   \   00000010   0xB2ED             UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   00000012   0x2D00             CMP      R5,#+0
   \   00000014   0xD017             BEQ.N    ??CPU_IntSrcPrioSet_0
   \   00000016   0x2D02             CMP      R5,#+2
   \   00000018   0xD016             BEQ.N    ??CPU_IntSrcPrioSet_1
   \   0000001A   0xD315             BCC.N    ??CPU_IntSrcPrioSet_1
   \   0000001C   0x2D04             CMP      R5,#+4
   \   0000001E   0xD014             BEQ.N    ??CPU_IntSrcPrioSet_2
   \   00000020   0xD312             BCC.N    ??CPU_IntSrcPrioSet_1
   \   00000022   0x2D06             CMP      R5,#+6
   \   00000024   0xD02C             BEQ.N    ??CPU_IntSrcPrioSet_3
   \   00000026   0xD31D             BCC.N    ??CPU_IntSrcPrioSet_4
   \   00000028   0x2D08             CMP      R5,#+8
   \   0000002A   0xD00C             BEQ.N    ??CPU_IntSrcPrioSet_0
   \   0000002C   0xD30B             BCC.N    ??CPU_IntSrcPrioSet_0
   \   0000002E   0x2D0A             CMP      R5,#+10
   \   00000030   0xD009             BEQ.N    ??CPU_IntSrcPrioSet_0
   \   00000032   0xD308             BCC.N    ??CPU_IntSrcPrioSet_0
   \   00000034   0x2D0C             CMP      R5,#+12
   \   00000036   0xD03F             BEQ.N    ??CPU_IntSrcPrioSet_5
   \   00000038   0xD330             BCC.N    ??CPU_IntSrcPrioSet_6
   \   0000003A   0x2D0E             CMP      R5,#+14
   \   0000003C   0xD049             BEQ.N    ??CPU_IntSrcPrioSet_7
   \   0000003E   0xD302             BCC.N    ??CPU_IntSrcPrioSet_0
   \   00000040   0x2D0F             CMP      R5,#+15
   \   00000042   0xD054             BEQ.N    ??CPU_IntSrcPrioSet_8
   \   00000044   0xE061             B.N      ??CPU_IntSrcPrioSet_9
    444                  case CPU_INT_STK_PTR:                                   /* ---------------- INVALID OR RESERVED --------------- */
    445                  case CPU_INT_RSVD_07:
    446                  case CPU_INT_RSVD_08:
    447                  case CPU_INT_RSVD_09:
    448                  case CPU_INT_RSVD_10:
    449                  case CPU_INT_RSVD_13:
    450                       break;
   \                     ??CPU_IntSrcPrioSet_0: (+1)
   \   00000046   0xE090             B.N      ??CPU_IntSrcPrioSet_10
    451          
    452          
    453                                                                          /* ----------------- SYSTEM EXCEPTIONS ---------------- */
    454                  case CPU_INT_RESET:                                     /* Reset (see Note #2).                                 */
    455                  case CPU_INT_NMI:                                       /* Non-maskable interrupt (see Note #2).                */
    456                  case CPU_INT_HFAULT:                                    /* Hard fault (see Note #2).                            */
    457                       break;
   \                     ??CPU_IntSrcPrioSet_1: (+1)
   \   00000048   0xE08F             B.N      ??CPU_IntSrcPrioSet_10
    458          
    459                  case CPU_INT_MEM:                                       /* Memory management.                                   */
    460                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcPrioSet_2: (+1)
   \   0000004A   0x.... 0x....      BL       CPU_SR_Save
    461                       temp                 = CPU_REG_NVIC_SHPRI1;
   \   0000004E   0x....             LDR.N    R1,??DataTable3_5  ;; 0xe000ed18
   \   00000050   0x6809             LDR      R1,[R1, #+0]
    462                       temp                &= ~(DEF_OCTET_MASK << (0 * DEF_OCTET_NBR_BITS));
   \   00000052   0x0A09             LSRS     R1,R1,#+8
   \   00000054   0x0209             LSLS     R1,R1,#+8
    463                       temp                |=  (prio           << (0 * DEF_OCTET_NBR_BITS));
   \   00000056   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   00000058   0x4321             ORRS     R1,R4,R1
    464                       CPU_REG_NVIC_SHPRI1  = temp;
   \   0000005A   0x....             LDR.N    R2,??DataTable3_5  ;; 0xe000ed18
   \   0000005C   0x6011             STR      R1,[R2, #+0]
    465                       CPU_CRITICAL_EXIT();
   \   0000005E   0x.... 0x....      BL       CPU_SR_Restore
    466                       break;
   \   00000062   0xE082             B.N      ??CPU_IntSrcPrioSet_10
    467          
    468                  case CPU_INT_BUSFAULT:                                  /* Bus fault.                                           */
    469                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcPrioSet_4: (+1)
   \   00000064   0x.... 0x....      BL       CPU_SR_Save
    470                       temp                 = CPU_REG_NVIC_SHPRI1;
   \   00000068   0x....             LDR.N    R1,??DataTable3_5  ;; 0xe000ed18
   \   0000006A   0x6809             LDR      R1,[R1, #+0]
    471                       temp                &= ~(DEF_OCTET_MASK << (1 * DEF_OCTET_NBR_BITS));
   \   0000006C   0xF431 0x417F      BICS     R1,R1,#0xFF00
    472                       temp                |=  (prio           << (1 * DEF_OCTET_NBR_BITS));
   \   00000070   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   00000072   0xEA51 0x2104      ORRS     R1,R1,R4, LSL #+8
    473                       CPU_REG_NVIC_SHPRI1  = temp;
   \   00000076   0x....             LDR.N    R2,??DataTable3_5  ;; 0xe000ed18
   \   00000078   0x6011             STR      R1,[R2, #+0]
    474                       CPU_CRITICAL_EXIT();
   \   0000007A   0x.... 0x....      BL       CPU_SR_Restore
    475                       break;
   \   0000007E   0xE074             B.N      ??CPU_IntSrcPrioSet_10
    476          
    477                  case CPU_INT_USAGEFAULT:                                /* Usage fault.                                         */
    478                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcPrioSet_3: (+1)
   \   00000080   0x.... 0x....      BL       CPU_SR_Save
    479                       temp                 = CPU_REG_NVIC_SHPRI1;
   \   00000084   0x....             LDR.N    R1,??DataTable3_5  ;; 0xe000ed18
   \   00000086   0x6809             LDR      R1,[R1, #+0]
    480                       temp                &= ~(DEF_OCTET_MASK << (2 * DEF_OCTET_NBR_BITS));
   \   00000088   0xF431 0x017F      BICS     R1,R1,#0xFF0000
    481                       temp                |=  (prio           << (2 * DEF_OCTET_NBR_BITS));
   \   0000008C   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000008E   0xEA51 0x4104      ORRS     R1,R1,R4, LSL #+16
    482                       CPU_REG_NVIC_SHPRI1  = temp;
   \   00000092   0x....             LDR.N    R2,??DataTable3_5  ;; 0xe000ed18
   \   00000094   0x6011             STR      R1,[R2, #+0]
    483                       CPU_CRITICAL_EXIT();
   \   00000096   0x.... 0x....      BL       CPU_SR_Restore
    484                       break;
   \   0000009A   0xE066             B.N      ??CPU_IntSrcPrioSet_10
    485          
    486                  case CPU_INT_SVCALL:                                    /* SVCall.                                              */
    487                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcPrioSet_6: (+1)
   \   0000009C   0x.... 0x....      BL       CPU_SR_Save
    488                       temp                 = CPU_REG_NVIC_SHPRI2;
   \   000000A0   0x....             LDR.N    R1,??DataTable3_6  ;; 0xe000ed1c
   \   000000A2   0x6809             LDR      R1,[R1, #+0]
    489                       temp                &= ~((CPU_INT32U)DEF_OCTET_MASK << (3 * DEF_OCTET_NBR_BITS));
   \   000000A4   0x0209             LSLS     R1,R1,#+8        ;; ZeroExtS R1,R1,#+8,#+8
   \   000000A6   0x0A09             LSRS     R1,R1,#+8
    490                       temp                |=  (prio                       << (3 * DEF_OCTET_NBR_BITS));
   \   000000A8   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   000000AA   0xEA51 0x6104      ORRS     R1,R1,R4, LSL #+24
    491                       CPU_REG_NVIC_SHPRI2  = temp;
   \   000000AE   0x....             LDR.N    R2,??DataTable3_6  ;; 0xe000ed1c
   \   000000B0   0x6011             STR      R1,[R2, #+0]
    492                       CPU_CRITICAL_EXIT();
   \   000000B2   0x.... 0x....      BL       CPU_SR_Restore
    493                       break;
   \   000000B6   0xE058             B.N      ??CPU_IntSrcPrioSet_10
    494          
    495                  case CPU_INT_DBGMON:                                    /* Debug monitor.                                       */
    496                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcPrioSet_5: (+1)
   \   000000B8   0x.... 0x....      BL       CPU_SR_Save
    497                       temp                = CPU_REG_NVIC_SHPRI3;
   \   000000BC   0x....             LDR.N    R1,??DataTable3_7  ;; 0xe000ed20
   \   000000BE   0x6809             LDR      R1,[R1, #+0]
    498                       temp                &= ~(DEF_OCTET_MASK << (0 * DEF_OCTET_NBR_BITS));
   \   000000C0   0x0A09             LSRS     R1,R1,#+8
   \   000000C2   0x0209             LSLS     R1,R1,#+8
    499                       temp                |=  (prio           << (0 * DEF_OCTET_NBR_BITS));
   \   000000C4   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   000000C6   0x4321             ORRS     R1,R4,R1
    500                       CPU_REG_NVIC_SHPRI3  = temp;
   \   000000C8   0x....             LDR.N    R2,??DataTable3_7  ;; 0xe000ed20
   \   000000CA   0x6011             STR      R1,[R2, #+0]
    501                       CPU_CRITICAL_EXIT();
   \   000000CC   0x.... 0x....      BL       CPU_SR_Restore
    502                       break;
   \   000000D0   0xE04B             B.N      ??CPU_IntSrcPrioSet_10
    503          
    504                  case CPU_INT_PENDSV:                                    /* PendSV.                                              */
    505                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcPrioSet_7: (+1)
   \   000000D2   0x.... 0x....      BL       CPU_SR_Save
    506                       temp                 = CPU_REG_NVIC_SHPRI3;
   \   000000D6   0x....             LDR.N    R1,??DataTable3_7  ;; 0xe000ed20
   \   000000D8   0x6809             LDR      R1,[R1, #+0]
    507                       temp                &= ~(DEF_OCTET_MASK << (2 * DEF_OCTET_NBR_BITS));
   \   000000DA   0xF431 0x017F      BICS     R1,R1,#0xFF0000
    508                       temp                |=  (prio           << (2 * DEF_OCTET_NBR_BITS));
   \   000000DE   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   000000E0   0xEA51 0x4104      ORRS     R1,R1,R4, LSL #+16
    509                       CPU_REG_NVIC_SHPRI3  = temp;
   \   000000E4   0x....             LDR.N    R2,??DataTable3_7  ;; 0xe000ed20
   \   000000E6   0x6011             STR      R1,[R2, #+0]
    510                       CPU_CRITICAL_EXIT();
   \   000000E8   0x.... 0x....      BL       CPU_SR_Restore
    511                       break;
   \   000000EC   0xE03D             B.N      ??CPU_IntSrcPrioSet_10
    512          
    513                  case CPU_INT_SYSTICK:                                   /* SysTick.                                             */
    514                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcPrioSet_8: (+1)
   \   000000EE   0x.... 0x....      BL       CPU_SR_Save
    515                       temp                 = CPU_REG_NVIC_SHPRI3;
   \   000000F2   0x....             LDR.N    R1,??DataTable3_7  ;; 0xe000ed20
   \   000000F4   0x6809             LDR      R1,[R1, #+0]
    516                       temp                &= ~((CPU_INT32U)DEF_OCTET_MASK << (3 * DEF_OCTET_NBR_BITS));
   \   000000F6   0x0209             LSLS     R1,R1,#+8        ;; ZeroExtS R1,R1,#+8,#+8
   \   000000F8   0x0A09             LSRS     R1,R1,#+8
    517                       temp                |=  (prio                       << (3 * DEF_OCTET_NBR_BITS));
   \   000000FA   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   000000FC   0xEA51 0x6104      ORRS     R1,R1,R4, LSL #+24
    518                       CPU_REG_NVIC_SHPRI3  = temp;
   \   00000100   0x....             LDR.N    R2,??DataTable3_7  ;; 0xe000ed20
   \   00000102   0x6011             STR      R1,[R2, #+0]
    519                       CPU_CRITICAL_EXIT();
   \   00000104   0x.... 0x....      BL       CPU_SR_Restore
    520                       break;
   \   00000108   0xE02F             B.N      ??CPU_IntSrcPrioSet_10
    521          
    522          
    523                                                                          /* ---------------- EXTERNAL INTERRUPT ---------------- */
    524                  default:
    525                      pos_max = CPU_INT_SRC_POS_MAX;
   \                     ??CPU_IntSrcPrioSet_9: (+1)
   \   0000010A   0x....             LDR.N    R0,??DataTable3_2  ;; 0xe000e004
   \   0000010C   0x6800             LDR      R0,[R0, #+0]
   \   0000010E   0x1C40             ADDS     R0,R0,#+1
   \   00000110   0xF010 0x001F      ANDS     R0,R0,#0x1F
   \   00000114   0x0140             LSLS     R0,R0,#+5
   \   00000116   0x1C40             ADDS     R0,R0,#+1
    526                      if (pos < pos_max) {                                /* See Note #3.                                         */
   \   00000118   0xB2ED             UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   0000011A   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   0000011C   0x4285             CMP      R5,R0
   \   0000011E   0xD224             BCS.N    ??CPU_IntSrcPrioSet_11
    527                           group                    = (pos - 16) / 4;
   \   00000120   0xB2ED             UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   00000122   0xF1B5 0x0010      SUBS     R0,R5,#+16
   \   00000126   0x2104             MOVS     R1,#+4
   \   00000128   0xFB90 0xF6F1      SDIV     R6,R0,R1
    528                           nbr                      = (pos - 16) % 4;
   \   0000012C   0xB2ED             UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   0000012E   0xF1B5 0x0010      SUBS     R0,R5,#+16
   \   00000132   0x2104             MOVS     R1,#+4
   \   00000134   0xFB90 0xF5F1      SDIV     R5,R0,R1
   \   00000138   0xFB05 0x0511      MLS      R5,R5,R1,R0
    529          
    530                           CPU_CRITICAL_ENTER();
   \   0000013C   0x.... 0x....      BL       CPU_SR_Save
    531                           temp                     = CPU_REG_NVIC_PRIO(group);
   \   00000140   0xB2F6             UXTB     R6,R6            ;; ZeroExt  R6,R6,#+24,#+24
   \   00000142   0x....             LDR.N    R1,??DataTable3_8  ;; 0xe000e400
   \   00000144   0xF851 0x1026      LDR      R1,[R1, R6, LSL #+2]
    532                           temp                    &= ~(DEF_OCTET_MASK << (nbr * DEF_OCTET_NBR_BITS));
   \   00000148   0x22FF             MOVS     R2,#+255
   \   0000014A   0xB2ED             UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   0000014C   0x00EB             LSLS     R3,R5,#+3
   \   0000014E   0x409A             LSLS     R2,R2,R3
   \   00000150   0x4391             BICS     R1,R1,R2
    533                           temp                    |=  (prio           << (nbr * DEF_OCTET_NBR_BITS));
   \   00000152   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   00000154   0xB2ED             UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   00000156   0x00EA             LSLS     R2,R5,#+3
   \   00000158   0xFA14 0xF202      LSLS     R2,R4,R2
   \   0000015C   0x4311             ORRS     R1,R2,R1
    534                           CPU_REG_NVIC_PRIO(group) = temp;
   \   0000015E   0xB2F6             UXTB     R6,R6            ;; ZeroExt  R6,R6,#+24,#+24
   \   00000160   0x....             LDR.N    R2,??DataTable3_8  ;; 0xe000e400
   \   00000162   0xF842 0x1026      STR      R1,[R2, R6, LSL #+2]
    535                           CPU_CRITICAL_EXIT();
   \   00000166   0x.... 0x....      BL       CPU_SR_Restore
    536                       }
    537                       break;
    538              }
    539          }
   \                     ??CPU_IntSrcPrioSet_11: (+1)
   \                     ??CPU_IntSrcPrioSet_10: (+1)
   \   0000016A   0xBD70             POP      {R4-R6,PC}       ;; return
    540          
    541          
    542          /*
    543          *********************************************************************************************************
    544          *                                           CPU_IntSrcPrioGet()
    545          *
    546          * Description : Get priority of an interrupt source.
    547          *
    548          * Argument(s) : pos     Position of interrupt vector in interrupt table (see 'CPU_IntSrcDis()').
    549          *
    550          * Return(s)   : Priority of interrupt source.  If the interrupt source specified is invalid, then
    551          *               DEF_INT_16S_MIN_VAL is returned.
    552          *
    553          * Caller(s)   : Application.
    554          *
    555          * Note(s)     : (1) See 'CPU_IntSrcDis() Note #1'.
    556          *
    557          *               (2) See 'CPU_IntSrcPrioSet() Note #2'.
    558          *
    559          *               (3) See 'CPU_IntSrcDis() Note #3'.
    560          *********************************************************************************************************
    561          */
    562          

   \                                 In section .text, align 2, keep-with-next
    563          CPU_INT16S  CPU_IntSrcPrioGet (CPU_INT08U  pos)
    564          {
   \                     CPU_IntSrcPrioGet: (+1)
   \   00000000   0xB538             PUSH     {R3-R5,LR}
    565          #if (CPU_CFG_CRITICAL_METHOD == CPU_CRITICAL_METHOD_STATUS_LOCAL)
    566              CPU_SR      cpu_sr;
    567          #endif
    568              CPU_INT08U  group;
    569              CPU_INT08U  nbr;
    570              CPU_INT08U  pos_max;
    571              CPU_INT16S  prio;
    572              CPU_INT32U  prio_32;
    573              CPU_INT32U  temp;
    574          
    575          
    576              switch (pos) {
   \   00000002   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000004   0x2800             CMP      R0,#+0
   \   00000006   0xD017             BEQ.N    ??CPU_IntSrcPrioGet_0
   \   00000008   0x2802             CMP      R0,#+2
   \   0000000A   0xD01A             BEQ.N    ??CPU_IntSrcPrioGet_1
   \   0000000C   0xD316             BCC.N    ??CPU_IntSrcPrioGet_2
   \   0000000E   0x2804             CMP      R0,#+4
   \   00000010   0xD01D             BEQ.N    ??CPU_IntSrcPrioGet_3
   \   00000012   0xD319             BCC.N    ??CPU_IntSrcPrioGet_4
   \   00000014   0x2806             CMP      R0,#+6
   \   00000016   0xD02B             BEQ.N    ??CPU_IntSrcPrioGet_5
   \   00000018   0xD321             BCC.N    ??CPU_IntSrcPrioGet_6
   \   0000001A   0x2808             CMP      R0,#+8
   \   0000001C   0xD00C             BEQ.N    ??CPU_IntSrcPrioGet_0
   \   0000001E   0xD30B             BCC.N    ??CPU_IntSrcPrioGet_0
   \   00000020   0x280A             CMP      R0,#+10
   \   00000022   0xD009             BEQ.N    ??CPU_IntSrcPrioGet_0
   \   00000024   0xD308             BCC.N    ??CPU_IntSrcPrioGet_0
   \   00000026   0x280C             CMP      R0,#+12
   \   00000028   0xD031             BEQ.N    ??CPU_IntSrcPrioGet_7
   \   0000002A   0xD328             BCC.N    ??CPU_IntSrcPrioGet_8
   \   0000002C   0x280E             CMP      R0,#+14
   \   0000002E   0xD036             BEQ.N    ??CPU_IntSrcPrioGet_9
   \   00000030   0xD302             BCC.N    ??CPU_IntSrcPrioGet_0
   \   00000032   0x280F             CMP      R0,#+15
   \   00000034   0xD03C             BEQ.N    ??CPU_IntSrcPrioGet_10
   \   00000036   0xE043             B.N      ??CPU_IntSrcPrioGet_11
    577                  case CPU_INT_STK_PTR:                                   /* ---------------- INVALID OR RESERVED --------------- */
    578                  case CPU_INT_RSVD_07:
    579                  case CPU_INT_RSVD_08:
    580                  case CPU_INT_RSVD_09:
    581                  case CPU_INT_RSVD_10:
    582                  case CPU_INT_RSVD_13:
    583                       prio = DEF_INT_16S_MIN_VAL;
   \                     ??CPU_IntSrcPrioGet_0: (+1)
   \   00000038   0x....             LDR.N    R4,??DataTable3_9  ;; 0xffff8000
    584                       break;
   \   0000003A   0xE068             B.N      ??CPU_IntSrcPrioGet_12
    585          
    586          
    587                                                                          /* ----------------- SYSTEM EXCEPTIONS ---------------- */
    588                  case CPU_INT_RESET:                                     /* Reset (see Note #2).                                 */
    589                       prio = -3;
   \                     ??CPU_IntSrcPrioGet_2: (+1)
   \   0000003C   0xF07F 0x0402      MVNS     R4,#+2
    590                       break;
   \   00000040   0xE065             B.N      ??CPU_IntSrcPrioGet_12
    591          
    592                  case CPU_INT_NMI:                                       /* Non-maskable interrupt (see Note #2).                */
    593                       prio = -2;
   \                     ??CPU_IntSrcPrioGet_1: (+1)
   \   00000042   0xF07F 0x0401      MVNS     R4,#+1
    594                       break;
   \   00000046   0xE062             B.N      ??CPU_IntSrcPrioGet_12
    595          
    596                  case CPU_INT_HFAULT:                                    /* Hard fault (see Note #2).                            */
    597                       prio = -1;
   \                     ??CPU_IntSrcPrioGet_4: (+1)
   \   00000048   0xF05F 0x34FF      MOVS     R4,#-1
    598                       break;
   \   0000004C   0xE05F             B.N      ??CPU_IntSrcPrioGet_12
    599          
    600          
    601                  case CPU_INT_MEM:                                       /* Memory management.                                   */
    602                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcPrioGet_3: (+1)
   \   0000004E   0x.... 0x....      BL       CPU_SR_Save
    603                       temp = CPU_REG_NVIC_SHPRI1;
   \   00000052   0x....             LDR.N    R1,??DataTable3_5  ;; 0xe000ed18
   \   00000054   0x680C             LDR      R4,[R1, #+0]
    604                       prio = (temp >> (0 * DEF_OCTET_NBR_BITS)) & DEF_OCTET_MASK;
   \   00000056   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
    605                       CPU_CRITICAL_EXIT();
   \   00000058   0x.... 0x....      BL       CPU_SR_Restore
    606                       break;
   \   0000005C   0xE057             B.N      ??CPU_IntSrcPrioGet_12
    607          
    608          
    609                  case CPU_INT_BUSFAULT:                                  /* Bus fault.                                           */
    610                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcPrioGet_6: (+1)
   \   0000005E   0x.... 0x....      BL       CPU_SR_Save
    611                       temp = CPU_REG_NVIC_SHPRI1;
   \   00000062   0x....             LDR.N    R1,??DataTable3_5  ;; 0xe000ed18
   \   00000064   0x680C             LDR      R4,[R1, #+0]
    612                       prio = (temp >> (1 * DEF_OCTET_NBR_BITS)) & DEF_OCTET_MASK;
   \   00000066   0xF3C4 0x2407      UBFX     R4,R4,#+8,#+8
    613                       CPU_CRITICAL_EXIT();
   \   0000006A   0x.... 0x....      BL       CPU_SR_Restore
    614                       break;
   \   0000006E   0xE04E             B.N      ??CPU_IntSrcPrioGet_12
    615          
    616          
    617                  case CPU_INT_USAGEFAULT:                                /* Usage fault.                                         */
    618                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcPrioGet_5: (+1)
   \   00000070   0x.... 0x....      BL       CPU_SR_Save
    619                       temp = CPU_REG_NVIC_SHPRI1;
   \   00000074   0x....             LDR.N    R0,??DataTable3_5  ;; 0xe000ed18
   \   00000076   0x6804             LDR      R4,[R0, #+0]
    620                       prio = (temp >> (2 * DEF_OCTET_NBR_BITS)) & DEF_OCTET_MASK;
   \   00000078   0x0C20             LSRS     R0,R4,#+16
   \   0000007A   0xB2C4             UXTB     R4,R0            ;; ZeroExt  R4,R0,#+24,#+24
    621                       break;
   \   0000007C   0xE047             B.N      ??CPU_IntSrcPrioGet_12
    622          
    623                  case CPU_INT_SVCALL:                                    /* SVCall.                                              */
    624                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcPrioGet_8: (+1)
   \   0000007E   0x.... 0x....      BL       CPU_SR_Save
    625                       temp = CPU_REG_NVIC_SHPRI2;
   \   00000082   0x....             LDR.N    R1,??DataTable3_6  ;; 0xe000ed1c
   \   00000084   0x680C             LDR      R4,[R1, #+0]
    626                       prio = (temp >> (3 * DEF_OCTET_NBR_BITS)) & DEF_OCTET_MASK;
   \   00000086   0x0E24             LSRS     R4,R4,#+24
    627                       CPU_CRITICAL_EXIT();
   \   00000088   0x.... 0x....      BL       CPU_SR_Restore
    628                       break;
   \   0000008C   0xE03F             B.N      ??CPU_IntSrcPrioGet_12
    629          
    630                  case CPU_INT_DBGMON:                                    /* Debug monitor.                                       */
    631                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcPrioGet_7: (+1)
   \   0000008E   0x.... 0x....      BL       CPU_SR_Save
    632                       temp = CPU_REG_NVIC_SHPRI3;
   \   00000092   0x....             LDR.N    R1,??DataTable3_7  ;; 0xe000ed20
   \   00000094   0x680C             LDR      R4,[R1, #+0]
    633                       prio = (temp >> (0 * DEF_OCTET_NBR_BITS)) & DEF_OCTET_MASK;
   \   00000096   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
    634                       CPU_CRITICAL_EXIT();
   \   00000098   0x.... 0x....      BL       CPU_SR_Restore
    635                       break;
   \   0000009C   0xE037             B.N      ??CPU_IntSrcPrioGet_12
    636          
    637                  case CPU_INT_PENDSV:                                    /* PendSV.                                              */
    638                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcPrioGet_9: (+1)
   \   0000009E   0x.... 0x....      BL       CPU_SR_Save
    639                       temp = CPU_REG_NVIC_SHPRI3;
   \   000000A2   0x....             LDR.N    R1,??DataTable3_7  ;; 0xe000ed20
   \   000000A4   0x680C             LDR      R4,[R1, #+0]
    640                       prio = (temp >> (2 * DEF_OCTET_NBR_BITS)) & DEF_OCTET_MASK;
   \   000000A6   0x0C21             LSRS     R1,R4,#+16
   \   000000A8   0xB2CC             UXTB     R4,R1            ;; ZeroExt  R4,R1,#+24,#+24
    641                       CPU_CRITICAL_EXIT();
   \   000000AA   0x.... 0x....      BL       CPU_SR_Restore
    642                       break;
   \   000000AE   0xE02E             B.N      ??CPU_IntSrcPrioGet_12
    643          
    644                  case CPU_INT_SYSTICK:                                   /* SysTick.                                             */
    645                       CPU_CRITICAL_ENTER();
   \                     ??CPU_IntSrcPrioGet_10: (+1)
   \   000000B0   0x.... 0x....      BL       CPU_SR_Save
    646                       temp = CPU_REG_NVIC_SHPRI3;
   \   000000B4   0x....             LDR.N    R1,??DataTable3_7  ;; 0xe000ed20
   \   000000B6   0x680C             LDR      R4,[R1, #+0]
    647                       prio = (temp >> (3 * DEF_OCTET_NBR_BITS)) & DEF_OCTET_MASK;
   \   000000B8   0x0E24             LSRS     R4,R4,#+24
    648                       CPU_CRITICAL_EXIT();
   \   000000BA   0x.... 0x....      BL       CPU_SR_Restore
    649                       break;
   \   000000BE   0xE026             B.N      ??CPU_IntSrcPrioGet_12
    650          
    651          
    652                                                                          /* ---------------- EXTERNAL INTERRUPT ---------------- */
    653                  default:
    654                      pos_max = CPU_INT_SRC_POS_MAX;
   \                     ??CPU_IntSrcPrioGet_11: (+1)
   \   000000C0   0x....             LDR.N    R1,??DataTable3_2  ;; 0xe000e004
   \   000000C2   0x6809             LDR      R1,[R1, #+0]
   \   000000C4   0x1C49             ADDS     R1,R1,#+1
   \   000000C6   0xF011 0x011F      ANDS     R1,R1,#0x1F
   \   000000CA   0x0149             LSLS     R1,R1,#+5
   \   000000CC   0x1C49             ADDS     R1,R1,#+1
    655                      if (pos < pos_max) {                                /* See Note #3.                                         */
   \   000000CE   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   000000D0   0xB2C9             UXTB     R1,R1            ;; ZeroExt  R1,R1,#+24,#+24
   \   000000D2   0x4288             CMP      R0,R1
   \   000000D4   0xD21A             BCS.N    ??CPU_IntSrcPrioGet_13
    656                           group = (pos - 16) / 4;
   \   000000D6   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   000000D8   0xF1B0 0x0110      SUBS     R1,R0,#+16
   \   000000DC   0x2204             MOVS     R2,#+4
   \   000000DE   0xFB91 0xF4F2      SDIV     R4,R1,R2
    657                           nbr   = (pos - 16) % 4;
   \   000000E2   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   000000E4   0x3810             SUBS     R0,R0,#+16
   \   000000E6   0x2104             MOVS     R1,#+4
   \   000000E8   0xFB90 0xF5F1      SDIV     R5,R0,R1
   \   000000EC   0xFB05 0x0511      MLS      R5,R5,R1,R0
    658          
    659                           CPU_CRITICAL_ENTER();
   \   000000F0   0x.... 0x....      BL       CPU_SR_Save
    660                           temp  = CPU_REG_NVIC_PRIO(group);
   \   000000F4   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   000000F6   0x....             LDR.N    R1,??DataTable3_8  ;; 0xe000e400
   \   000000F8   0xF851 0x4024      LDR      R4,[R1, R4, LSL #+2]
    661                           CPU_CRITICAL_EXIT();
   \   000000FC   0x.... 0x....      BL       CPU_SR_Restore
    662          
    663                           prio  = (temp >> (nbr * DEF_OCTET_NBR_BITS)) & DEF_OCTET_MASK;
   \   00000100   0xB2ED             UXTB     R5,R5            ;; ZeroExt  R5,R5,#+24,#+24
   \   00000102   0x00E8             LSLS     R0,R5,#+3
   \   00000104   0x0021             MOVS     R1,R4
   \   00000106   0x40C1             LSRS     R1,R1,R0
   \   00000108   0xB2CC             UXTB     R4,R1            ;; ZeroExt  R4,R1,#+24,#+24
   \   0000010A   0xE000             B.N      ??CPU_IntSrcPrioGet_14
    664                       } else {
    665                           prio  = DEF_INT_16S_MIN_VAL;
   \                     ??CPU_IntSrcPrioGet_13: (+1)
   \   0000010C   0x....             LDR.N    R4,??DataTable3_9  ;; 0xffff8000
    666                       }
    667                       break;
    668              }
    669          
    670              if (prio >= 0) {
   \                     ??CPU_IntSrcPrioGet_14: (+1)
   \                     ??CPU_IntSrcPrioGet_12: (+1)
   \   0000010E   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   00000110   0x2C00             CMP      R4,#+0
   \   00000112   0xD404             BMI.N    ??CPU_IntSrcPrioGet_15
    671                  prio_32 = CPU_RevBits((CPU_INT32U)prio);
   \   00000114   0xB224             SXTH     R4,R4            ;; SignExt  R4,R4,#+16,#+16
   \   00000116   0x0020             MOVS     R0,R4
   \   00000118   0x.... 0x....      BL       CPU_RevBits
    672                  prio    = (CPU_INT16S)(prio_32 >> (3 * DEF_OCTET_NBR_BITS));
   \   0000011C   0x0E04             LSRS     R4,R0,#+24
    673              }
    674          
    675              return (prio);
   \                     ??CPU_IntSrcPrioGet_15: (+1)
   \   0000011E   0x0020             MOVS     R0,R4
   \   00000120   0xB200             SXTH     R0,R0            ;; SignExt  R0,R0,#+16,#+16
   \   00000122   0xBD32             POP      {R1,R4,R5,PC}    ;; return
    676          }

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3:
   \   00000000   0xE000ED24         DC32     0xe000ed24

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_1:
   \   00000000   0xE000E010         DC32     0xe000e010

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_2:
   \   00000000   0xE000E004         DC32     0xe000e004

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_3:
   \   00000000   0xE000E180         DC32     0xe000e180

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_4:
   \   00000000   0xE000E100         DC32     0xe000e100

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_5:
   \   00000000   0xE000ED18         DC32     0xe000ed18

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_6:
   \   00000000   0xE000ED1C         DC32     0xe000ed1c

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_7:
   \   00000000   0xE000ED20         DC32     0xe000ed20

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_8:
   \   00000000   0xE000E400         DC32     0xe000e400

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable3_9:
   \   00000000   0xFFFF8000         DC32     0xffff8000

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   CPU_BitBandClr
       0   CPU_BitBandSet
      16   CPU_IntSrcDis
        16   -> CPU_SR_Restore
        16   -> CPU_SR_Save
      16   CPU_IntSrcEn
        16   -> CPU_SR_Restore
        16   -> CPU_SR_Save
      16   CPU_IntSrcPrioGet
        16   -> CPU_RevBits
        16   -> CPU_SR_Restore
        16   -> CPU_SR_Save
      16   CPU_IntSrcPrioSet
        16   -> CPU_RevBits
        16   -> CPU_SR_Restore
        16   -> CPU_SR_Save


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable3
       4  ??DataTable3_1
       4  ??DataTable3_2
       4  ??DataTable3_3
       4  ??DataTable3_4
       4  ??DataTable3_5
       4  ??DataTable3_6
       4  ??DataTable3_7
       4  ??DataTable3_8
       4  ??DataTable3_9
      64  CPU_BitBandClr
      64  CPU_BitBandSet
     238  CPU_IntSrcDis
     220  CPU_IntSrcEn
     292  CPU_IntSrcPrioGet
     364  CPU_IntSrcPrioSet

 
 1 282 bytes in section .text
 
 1 282 bytes of CODE memory

Errors: none
Warnings: none
